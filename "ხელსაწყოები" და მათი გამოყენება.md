# ხელსაწყოები და მათი გამოყენება


CTF დავალებების მიხედვით ბევრი სხვადასხვა ხელსაწყოს გამოყენება შეიძლება მოგიწიოთ, მათ შორის სკანირება, კრიპტოგრაფია, ექსპლუატაცია და კომპიუტერული ექსპერტიზა (Foresincs). 
ამისდა მიუხედავად ბევრი CTF დავალების საწყისი მიდგომა მსგავსია, აქ ვისაუბრებ ყველაზე ხშირად გამოყენებად ხელსაწყოებზე და მათ ეფექტურად გამოყენებაზე.



## ენუმერაცია და დაზვერვა
### Nmap (Network Mapper)
Nmap არის ძალიან საჭირო და მრავალფუნქციური აპლიკაცია, რომელიც გამოიყენება ქსელის სკანირებისთვის, ღია პორტებისა და სერვისების აღმოჩენისთვის და მრავალი სხვა მიზნით.

ინსტალაცია:
```
sudo apt install nmap
```

ეს ხელსაწყო უმეტესობა ხელსაწყოების მსგავსად ეშვება ტერმინალში და აქვს თავისი სხვადასხვა ოპციები. ამ ოპციებს დროშები (Flag) ეწოდება. ტერმინალში გაშვებული პროგრამის ყოველ დამატებით ინსტრუქციას მოიხსენიებენ როგორც "დროშებს". დავიწყოთ Nmap ის ყველაზე საბაზისო ბრძანებით.




ამ ბრძანებით შეგვიძლია დავასკანეროთ ქსელი და ვიპოვოთ ღია და დახურული პორტები:

```
nmap  <მსხვერპლის-აიპი-მისამართი>
```

ეს არის ერთ-ერთი ყველაზე ხშირად გამოყენებული Nmap ის ფუნქცია, რადგან გახსნილი პორტების და სერვისების გაგებით ვიგებთ საჭირო ინფორმაციას პენეტრაციის ტესტინგისთვისა და ზოგადი უსაფრთხოების დასადგენად.

ზემოთ მოცემული ბრძანება ასკანერებს 1000 ყველაზე ხშირად გამოყენებულ პორტს მოცემულ აიპი მისამართზე, თუმცა ასევე შესაძლებელია კონკრეტული პორტის ან პორტების დაკონკრეტება. ეს ხდება შემდეგნაირად:

```
nmap -p <პორტი> <მსხვერპლის-აიპი-მისამართი>
```

პორტების დიაპაზონის ან კონკრეტული პორტების მითითება რასაკვირველია აჩქარებს ხელსაწყოს მუშაობის დროს და შედეგებს ვიღებთ უფრო სწრაფად, თუმცა ეს ყოველთვის
გამოსადეგი არ არის. არის შემთხვევა როდესაც არა მხოლოდ რამდენიმე პორტის, არამედ 1000 პორტის შემოწმებაც კი არ არის საკმარისი. ასეთ შემთხვევაშიც კი Nmap არ გვტოვებს
ხელმოცარულს და გვთავაზობს ოპციას ყველა, 65.535 ათასი პორტის დასკანერებას:

```
nmap -p- <მსხვერპლის-აიპი-მისამართი>
```

ამ ყველაფერთან ერთად ხშირად ხდება საჭირო დამატებით რამდენიმე ოპციის მითითება. მაგალითად ჩვენ შეგვიძლია პორტების დასკანირებასთან ერთად მოვითხოვოთ ღია
პორტების სერვისის და ვერსიის აღმოჩენა. ამ მიზნით ჩვენ ზუსტად ვიცით რა ტიპის სერვისთან გვაქვს საქმე და როგორ მივუდგეთ მას შემდეგში:
```
nmap -sV <მსხვერპლის-აიპი-მისამართი>
```

ესაც არ არის საკმარისი, Nmap ს შეუძლია გვიპოვოს რელევანტური სერვისების ოპერაციული სისტემა და მათი ვერსიებიც კი:
```
nmap -O <მსხვერპლის-აიპი-მისამართი>
```

ეს არის ყველაზე საბაზისო ბრძანებები რისი გაკეთებაც Nmap ს შეუძლია, თუმცა ეს არ არის ყველაფერი - ამ მრავალფუნქციურ აპლიკაციას ასევე შეუძლია სხვადასხვა სკანირების
ტექნიკების გამოყენება, ე.წ "აგრესიული დასკანერება", რამდენიმე მისამართის ერთდროულად დასკანერება, "ჩუმი" რეჟიმი რომელიც ასკანერებს დამცავი ბადის მიუხედავად ( Firewall) და ასევე აქვს სკრიპტების გამოყენების ფუნქციაც რომ ვიპოვოთ გარღვევები უსაფრთხოებაში.

ყველა "დროშის" სანახავად შეგიძლიათ გამოიყენოთ ეს ბრძანება 

```
man nmap
```

### ენუმერაცია (Dirb, Dirbuster, Gobuster)

რა არის ენუმერაცია? - ენუმერაცია ჩვენს ენაზე ითარგმნება როგორც "ჩამოთვლა" თუმცა ამ კონტექსტში ეს სიტყვა სულ სხვა მნიშვნელობას იძენს. ენუმერაცია არის 
აპლიკაციის გამოყენებით მსხვერპლის დირექტორიების, ქვედირექტორიების სერვისების ან სხვა აქტივების შესახებ ინფორმაციის სისტემატიური იდენტიფიკაციისა და შეგროვების
პროცესი. ეს აუცილებელი კომპონენტია უსაფრთხოების შეფასებისთვისა და შეღწევადობის ტესტირებისთვის.


მეტი დეტალისთვის, ავიღოთ ნებისმიერი საიტი, მაგალითად: 

```
abc.com
```




საიტი რეალურად არის ვებ-სერვერი, სადაც ინფორმაცია ინახება, იგზავნება მოთხოვნები და უბრუნდება მომხმარებელს უკან. საიტზე ნებისმიერ ღილაკზე დაჭერისას ხდება სხვა გვერდის მოთხოვნა, მაგალითად ჩვენ თუ დავაჭერთ ღილაკს "მესიჯები" შეიძლება საიტის ლინკზე
ასეთი გამოსახულება მივიღოთ
```
abc.com/inbox.
```

 

სწორედ "inbox" ნაწილი არის ქვედირექტორია, ის ვებ სერვერზე ინახება როგორც ცალკეული რესურსი.
ენუმერაციის მთელი არსი მდგომარეობს იმაში, რომ იპოვოს და გამოავლინოს ისეთი დირექტორიები და ქვედირექტორიები, რაც შეიძლება შემთხვევით არ იყოს დამალული მომხმარებლებისგან და მოგვცეს დამატებითი ინფორმაცია ან ბერკეტი შეტევის ვექტორის განსახორციელებლად.


ისეთი აპლიკაციები როგორიც არის dirb, dirbuster, gobuster გვეხმარება ენუმერაციაში და დირექტორიების ძალით გატეხვაში (brute forcing). ის მუშაობს 
განსაზღვრული პარამეტრებით HTTP მოთხოვნების გაგზავნით სერვერზე. პარამეტრები შეიძლება იყოს ე.წ Wordlist ები, და ანალიზის პარამეტრები.

ამ აპლიკაციის დასაინსტალირებლად Nmap ის მსგავსად ვიყენებთ შემდეგ ბრძანებას:

ინსტალაცია:
```
sudo apt install dirb
``` 

ეს ხელსაწყოც ეშვება ტერმინალში და აქვს თავისი "დროშები". ყველაზე საბაზისო ბრძანებით ჩვენ შეგვიძლია ენუმერაცია სტანდარტულად ნაგულისხმევი
Wordlist ით მოდიფიკაციის გარეშე:

```
dirb <საიტის-მისამართი>
``` 

ამ ბრძანებით აპლიკაცია ეძებს ისეთ ხშირად გამოყენებად დირექტორიების სახელებს როგორიცაა  /admin, /uploads, /config და სხვა, საიდანაც შეგვიძლია დამატებითი
ინფორმაციის მიღება.



რათქმაუნდა შეგვიძლია მივუთითოთ ჩვენი Wordlist ებიც, რაც თავის მხრივ უფრო ეფექტურ შედეგებს იძლევა, რადგან ბევრი მსგავსი Wordlist სპეციალურად არის
შექმნილი ენუმერაციისთვის და მოიცავს ყველაზე გავრცელებულ დირექტორიის სახელებს და ვარიაციებს. ეს შეგვიძლია გავაკეთოთ შემდეგი ბრძანებით:

```
dirb <საიტის-მისამართი <Wordlist-ის-მდებარეობა-დისკზე
``` 


Nmap ის მსგავსად ამ აპლიკაციასაც მრავალი დამატებითი ფუნქცია გააჩნია, მაგალითად შესაძლებელია სკანირების დროს დავაკონკრეტოთ იმ ფაილების ტიპი, რომლებიც
გვინდა რომ ვიპოვოთ. ეს ფუნქცია გამოსადეგია სკრიპტების, კონფიგ ფაილების და სხვა მსგავსი ფაილების საპოვნელად:

```
dirb <საიტის-მისამართი -X <.გაფართოებები,.მძიმით,.გამოყოფილი)
``` 

მეტი ბრძანებების და ოპციების სანახავად გამოიყენეთ შემდეგი ბრძანება:

``` 
man dirb 
``` 


## ვებ-აპლიკაციები და მათი ექსპლუატაცია

ვებ ექსპლუატაცია გულისხმობს სპეციალური ხელსაწყოების გამოყენებით  უსაფრთხოების გარღვევების მოძებნას, ინტერნეტის ტრაფიკის ანალიზს, და ვებ აპლიკაციების 
მანიპულაციას. სპეციალური ხელსაწყოები გვეხმარება ვიპოვოთ, შევცვალოთ და თავიდან გავგზავნოთ სპეციფიური HTTP მოთხოვნები. ამ მიზნისთვის ბევრი აპლიკაცია 
შეიძლება გამოვიყენოთ, მაგალითად: Burp-Suite.

### ანალიზი Burp-suite ს გამოყენებით.

Burp Suite არის GUI აპლიკაცია ( აპლიკაცია, რომელიც არ ეშვება ტერმინალში და აქვს თავისი გრაფიკული ინტერფეისი) რომელიც გვაძლევს შესაძლებლობას, რომ
ჩავკვეთოთ, გადავაკეთოთ და თავიდან გავგზავნოთ გადაკეთებული HTTP მოთხოვნები, ეს აპლიკაცია იდეალურია აუთენთიკაციის შესამოწმებლად, პარამეტრების გადასაკეთებლად
ვებ გვერდზე და ე.წ "ინჯექციის" გასაკეთებლად.

აპლიკაციის გადმოწერა შესაძლებელია შემდეგი ბმულიდან:

```
https://portswigger.net/burp/documentation/desktop/getting-started/download-and-install
```


მიუხედავად იმისა, რომ Burp ს აქვს გრაფიკული ინტერფეისი, მისი გამოყენება საკმაოდ რთულია და შესწავლას მოითხოვს. მას გააჩნია როგორც უფასო, ასევე ფასიანი ვერსია.
აპლიკაცია გამოყენებისთვის გვიხსნის დაკონფიგურებულ chromium ბრაუზერს, სადაც Burp ის პროქსი მისამართია მითითებული ( 127.0.0.1:8080 ). "Intercept" ის, ანუ ჩაჭრის
რეჟიმის ჩასართავად უნდა გადავიდეთ შესაბამის გრაფაზე, დავაჭიროთ ღილაკს "Intercept" და გავხსნათ Burp ის ბრაუზერი აპლიკაციიდან. როდესაც ბრაუზერი ჩაირთვება, ჩვეულებრივ უნდა შევიდეთ მსხვერპლის ვებ-გვერდზე. საიტი არ ჩაირთვება და მუდმივი ჩატვირთვის რეჟიმში იქნება, რადგან Burp მა დაიჭირა მიმავალი HTTP ტრაფიკი და ელოდება თქვენს მოდიფიკაციას.


ამ აპლიკაციის შესწავლა ნებისმიერ კიბერუსაფრთხოების ენთუზიასტს მისცემს ფასდაუდებელ ცოდნას ვებ აპლიკაციების პენეტრაციულ ტესტინგში. მისი დეტალურად შესწავლა შეიძლება შემდეგი ბმულიდან:

```
https://portswigger.net/training
```  

### SQL ინექცია sqlmap ის გამოყენებით


Structured Querry Language ანუ SQL არის სტანდარტული პროგრამირების ენა მონაცემთა ბაზების შექმნისთვისა და მოდიფიცირებისთვის. ვებ აპლიკაციების უმეტესი ნაწილი იყენებს SQL მონაცემთა ბაზებს სხვადასხვა ტიპის მონაცემების შესანახად, როგორიცაა: მომხმარებელთა ინფორმაცია, ზოგადი ინფორმაცია, პაროლები და სხვა. SQL ინექცია სწორედ
ამ სერვისის ექსპლუატაციას ისახავს მიზნად. SQL ინექციის მეთოდით ჩვენ მონაცემემთა ბაზას ვატყუებთ, რომ შეგვყავს მონაცემი, თუმცა რეალურად შეგვყავს SQL კოდი და 
ვაიძულებთ გამოიტანოს ჩვენს მიერ მითითებული მონაცემები.

SQL ინექცია ხელით გაწერილი კოდითაც კეთდება, თუმცა ხშირ შემთხვევაში შეგვიძლია გამოვიყენოთ ისეთი ხელსაწყოები როგორიც არის sqlmap

sqlmap არის ღია კოდის (open source) ტიპის ხელსაწყო, რომელიც ავტომატიზირებულად აღმოაჩენს მითითებულ ჰოსტებზე sql ინექციის ვექტორებს და ავტომატურადვე
აკეთებს sql ინექციას. 

მისი დაყენება შეიძლება შემდეგნაირად:

```
git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev
``` 

sqlmap ეშვება ტერმინალში და აქვს თავისი დამატებითი ფუქნციები და "დროშები", მაგალითად:

```
sqlmap -u "http://მაგალითი.com/page.php?id=1" --dbs
```
ამ ბრძანებით შეგვიძლია შევამოწმოთ ვებ-გვერდი და ვნახოთ მოცემულ მისამართზე თუ შეგვიძლია id=1 შეტევის ვექტორის განხორციელება. ამ ხელსაწყოთი ასევე შეგვიძლია
გამოვავლინოთ ყველა ცხრილი გვერდის მონაცემთა ბაზაში, ეს ხდება შემდეგნაირად:

```
sqlmap -u "http://მაგალითი.com/page.php?id=1" -D database_name --tables
```

ხელსაწყოს კიდე მრავალი "დროშა" და ფუნქცია გააჩნია, მაგალითად sqlmap ის გამოყენებით შეგვიძლია WAF (Web Application Firewall) გადავლახოთ და ისე გავაკეთოთ SQL ინექცია. მაგალითად:

```
sqlmap -u "http://მაგალითი.com/page.php?id=1" --random-agent --tamper=between
```

ამ ბრძანებაში --random-agent "დროშა" იყენებს სხვადასხვა ბრაუზერის ინფორმაციას რომ დეტექციას აარიდოს თავი, --tamper=between კი აკეთებს ჩვენი შეტევის ობსფუსკაცია ( ობსფუსკაცია არის რაიმე კოდის, ბრძანების ან მსგავსი წარწერის გადაკეთება ისე, რომ ის უფრო ნაკლებად მარტივი წასაკითხი და გასაშიფრი იყოს )


მეტი ოპციების და "დროშების" სანახავად გამოიყენეთ შემდეგი ბრძანება:

``` 
man sqlmap
``` 
## სტეგანოგრაფია და IT "ექსპერტიზა" 

### სტეგანოგრაფია

სტეგანოგრაფია არის გამოსახულების, სურათების, შეტყობინებების ან ფაილების დამალვის პრაქტიკა ისეთ სხვა ფაილებში, რაც არ არის საიდუმლო და ჩანს, როგორც ჩვეულებრივი
ფაილი. მაგალითად ჩვენ შეგვიძლია სურათში ჩავდოთ საიდუმლო ტექსტური შეტყობინება კოდით და ეს ყველაფერი ისე შევფუთოთ, რომ სურათს არაფერი არ შეეტყოს, ფაილის 
გადმოსაწერად და სანახავად კი დეკრიპტორი და პაროლი იქნება საჭირო. 

სტეგანოგრაფიისთვის მრავალი სხვადასხვა ალგორითმი და ხელსაწყო არსებობს, ამიტომ კონკრეტული ხელსაწყოთი დაშიფრულ სტეგანოგრაფიულ სურათს იგივე ხელსაწყო სჭირდება
გასაშიფრად.

სანამ იმ ეტაპამდე მივალთ, რომ კონკრეტული აპლიკაციით და პაროლით ამოვიღოთ ინფორმაცია დაშიფრული ფაილიდან, ჯერ უნდა ვიცოდეთ საერთოდ არის თუ არა ფაილში რაიმე დამალული. ამისთვის რამდენიმე ხელსაწყო არსებობს, თუმცა ერთ-ერთი ყველაზე ფართოდ გამოყენებადი ხელსაწყო არის binwalk. მისი დაინსტალირება შეიძლება შემდეგნაირად:

```
sudo apt install binwalk
``` 

ამ აპლიკაციას შეუძლია ნებისმიერ ფაილზე აღმოაჩინოს  დამატებითი მიკერებული ფაილები და გაშვებადი კოდი. ამ აპლიკაციის გამოყენება საკმაოდ მარტივია, მაგალითად, თუ გვინდა, რომ შევამოწმოთ ნებისმიერი ფაილი და ვნახოთ რაიმე ფაილი ხომარ აქვს მიმაგრებული, ვიყენებთ შემდეგ ბრძანებას:

```
binwalk ფაილის_სახელი.png 
``` 

ამ ბრძანებით ხელსაწყო გვაჩვენებს სურათზე მიმაგრებულ ფაილებს, მათ "გაფართოებას" (.jpg , .png, .txt და სხვა), ზომას და კიდევ დამატებით ინფორმაციას არსებობის შემთხვევაში, თუმცა ე.წ მიმაგრებული ფაილების არსებობა ყოველთვის იმას არ ნიშნავს, რომ ჩვენს მიერ დასკანერებული ფაილი სტეგანოგრაფიულია, რადგან ზოგიერთ ფაილის ტიპს ნატურალურად აქვს ე.წ "ჩანერგილი" ფაილები (embedded files). 

იმ შემთხვევაში, თუ რაიმე საეჭვო აღმოვაჩინეთ და გვინდა რომ მთავარი და ჩაკერებული ფაილები განვაცალკეოთ, შეგვიძლია გამოვიყენოთ შემდეგი ბრძანება:

```
binwalk -e ფაილის_სახელი.png 
``` 
ამ შემთხვევაში -e "დროშა" ნიშნავს extract ს ანუ განცალკევებას. ამისდა მიუხედავად, ზოგიერთ შემთხვევაში ჩაკერებული ფაილებს აქვთ ისეთი გაფართოება, რომელსაც
binwalk აპლიკაციის კოდი ვერ ცნობს. ასეთ ფაილებს -e "დროშით" ვერ განვაცალკევებთ, თუმცა ეს იმას არ ნიშნავს, რომ binwalk ს ეს არ შეუძლია:

```
binwalk --dd='.*' ფაილის_სახელი.png
``` 

ამ ბრძანების შემთხვევაში ხელსაწყო გააცალკევებს ყველანაირი ტიპის გაფართოების ფაილებს, მიუხედავად იმისა აღიქვავს აპლიკაცია მას თუ არა.

### Strings

Strings არის ლინუქსზე დაფუძნებული სისტემების საბაზისო ხელსაწყო, შესაბამისად მისი დაინსტალირება არ დაგჭირდებათ. ეს ხელსაწყო საკმაოდ მარტივი გამოსაყენებელია და მხოლოდ ერთი ფუნქცია გააჩნია, თუმცა ეს ფუნქცია ზოგჯერ ყველა აპლიკაციას სჯობს. ეს ხელსაწყო ფაილში ეძებს ე.წ "დასაბეჭდ" სტრიქონებს, ანუ მანქანური კოდის ის ნაწილი, რომელიც დარჩა ლათინურ ალფაბეტზე ჩვენ შეგვიძლია ვიპოვოთ ამ ხელსაწყოს გამოყენებით.

სტეგანოგრაფიაში ხშირად ხდება, რომ უკვე დაკომპილირებულ ფაილებს უმატებენ საიდუმლო ინფორმაციას. ამის აღმოჩენა კი შესაძლებელია strings ხელსაწყოთი.


ამ ხელსაწყოს გამოსაყენებლად ჩვენ მხოლოდ და მხოლოდ ფაილის მითითება გვჭირდება:

```
strings ფაილი.png
``` 





